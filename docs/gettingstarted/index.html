<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.76.5" />
    <meta name="description" content="Overwatch Documentation">
<meta name="author" content="Daniel Tomes -- DatabricksLabs">

    <link rel="icon" href="https://databrickslabs.github.io/overwatch/images/favicon.png" type="image/png">

    <title>Getting Started :: Overwatch</title>

    
    <link href="https://databrickslabs.github.io/overwatch/css/nucleus.css?1618856973" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/fontawesome-all.min.css?1618856973" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/hybrid.css?1618856973" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/featherlight.min.css?1618856973" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/perfect-scrollbar.min.css?1618856973" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/auto-complete.css?1618856973" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/atom-one-dark-reasonable.css?1618856973" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/theme.css?1618856973" rel="stylesheet">
    <link href="https://databrickslabs.github.io/overwatch/css/hugo-theme.css?1618856973" rel="stylesheet">
    
    <link href="https://databrickslabs.github.io/overwatch/css/theme-blue.css?1618856973" rel="stylesheet">
    
    

    <script src="https://databrickslabs.github.io/overwatch/js/jquery-3.3.1.min.js?1618856973"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    

<script async defer src="https://buttons.github.io/buttons.js"></script>
  </head>
  <body class="" data-url="https://databrickslabs.github.io/overwatch/gettingstarted/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://databrickslabs.github.io/overwatch/">
    <img src="https://databrickslabs.github.io/overwatch/images/tmp_logo4.png", width="85%">
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="https://databrickslabs.github.io/overwatch/js/lunr.min.js?1618856973"></script>
<script type="text/javascript" src="https://databrickslabs.github.io/overwatch/js/auto-complete.js?1618856973"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/databrickslabs.github.io\/overwatch\/";
    
</script>
<script type="text/javascript" src="https://databrickslabs.github.io/overwatch/js/search.js?1618856973"></script>

    
  </div>
  
  <section id="homelinks">
    <ul>
      <li>
        <a class="padding" href='https://databrickslabs.github.io/overwatch/'><i class='fas fa-home'></i> Home</a>
      </li>
    </ul>
  </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/gettingstarted/" title="Getting Started" class="dd-item
        parent
        active
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/gettingstarted/">
          Getting Started
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/configuration/" title="Configuration" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/configuration/">
        Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/modules/" title="Modules" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/modules/">
        Modules
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/advancedtopics/" title="Advanced Topics" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/advancedtopics/">
        Advanced Topics
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/upgrading/" title="Upgrading" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/upgrading/">
        Upgrading
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/troubleshooting/" title="Troubleshooting" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/troubleshooting/">
        Troubleshooting
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/gettingstarted/roadmap/" title="Roadmap" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/gettingstarted/roadmap/">
        Roadmap
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/environmentsetup/" title="Environment Setup" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/environmentsetup/">
          Environment Setup
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/environmentsetup/azure/" title="Azure" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/environmentsetup/azure/">
        Azure
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/environmentsetup/aws/" title="AWS" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/environmentsetup/aws/">
        AWS
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/dataengineer/" title="Data Engineering" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/dataengineer/">
          Data Engineering
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/dataengineer/definitions/" title="Definitions" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/dataengineer/definitions/">
        Definitions
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/dataengineer/etl_process/" title="ETL Process" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/dataengineer/etl_process/">
        ETL Process
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/developer_docs/" title="Developer Docs" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/developer_docs/">
          Developer Docs
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/accounts/" title="Accounts" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/accounts/">
        Accounts
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/notebooks/" title="Notebooks" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/notebooks/">
        Notebooks
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/cluster-events/" title="Cluster Events" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/cluster-events/">
        Cluster Events
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/audit/" title="Audit" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/audit/">
        Audit
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/jobs/" title="Jobs" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/jobs/">
        Jobs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/resuming/" title="Resuming" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/resuming/">
        Resuming
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/error-handling/" title="Error Handling" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/error-handling/">
        Error Handling
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/spark-events/" title="Spark Events" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/spark-events/">
        Spark Events
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/developer_docs/clusters/" title="Clusters" class="dd-item ">
        <a href="https://databrickslabs.github.io/overwatch/developer_docs/clusters/">
        Clusters
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/contributing/" title="" class="dd-item
        
        
        
        ">
      <a href="https://databrickslabs.github.io/overwatch/contributing/">
          
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <center>


    <a class="github-button" href="https://github.com/databrickslabs/overwatch/archive/refs/heads/master.zip"
       data-icon="octicon-cloud-download" aria-label="Download Overwatch on GitHub">Download</a>


    <a class="github-button" href="https://github.com/databrickslabs/overwatch" data-icon="octicon-star" data-show-count="true" aria-label="Star databrickslabs/overwatch on GitHub">Star</a>


    <a class="github-button" href="https://github.com/databrickslabs/overwatch/fork"
       data-icon="octicon-repo-forked" data-show-count="true" aria-label="Fork Overwatch on GitHub">Fork</a>

    <p>A <a href="https://github.com/databrickslabs">Databricks Labs</a> project.</p>
</center>

<script async defer src="https://buttons.github.io/buttons.js"></script>
    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            <a href='https://databrickslabs.github.io/overwatch/'>Welcome To OverWatch</a> > Getting Started
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#run-methods">Run Methods</a></li>
    <li><a href="#dependencies">Dependencies</a>
      <ul>
        <li><a href="#environment-setup">Environment Setup</a></li>
        <li><a href="#cluster-requirements">Cluster Requirements</a></li>
        <li><a href="#run-via-notebook">Run via Notebook</a></li>
        <li><a href="#run-via-main-class">Run via Main Class</a></li>
        <li><a href="#modules">Modules</a></li>
        <li><a href="#security-considerations">Security Considerations</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Getting Started
            </h1>
          

        



	<h2 id="run-methods">Run Methods</h2>
<p>Overwatch is usually run via one of two methods:</p>
<ol>
<li>As a job controlling <a href="#run-via-notebook"><strong>running a notebook</strong></a></li>
<li>As a job running the <a href="#run-via-main-class"><strong>main class</strong></a> with the configs</li>
</ol>
<p>Below are instructions for both methods. The primary difference is the way by which the
<a href="https://databrickslabs.github.io/overwatch/gettingstarted/configuration/">configuration</a> is implemented and the choice of which to use is
entirely user preference. Overwatch is meant to control itself from soup to nuts meaning it creates its own databases
and tables and manages all spark parameters and optimization requirements to operate efficiently. Beyond the config
and the job run setup, Overwatch runs best as a black box &ndash; enable it and forget about it.</p>
<h2 id="dependencies">Dependencies</h2>
<p>Add the following dependencies to your cluster</p>
<ul>
<li>plotly &ndash; pretty reporting for some reports, whether or not you will need this depends on the reports you wish
to run
<ul>
<li>Default PyPi - Tested with version 4.8.2</li>
</ul>
</li>
<li>(only for Azure deployment) azure-eventhubs-spark - integration with Azure EventHubs
<ul>
<li>Maven Coordinate: <code>~com.microsoft.azure:azure-eventhubs-spark_2.12:2.3.18</code></li>
</ul>
</li>
</ul>
<h3 id="environment-setup">Environment Setup</h3>
<p>There are some basic environment configuration steps that need to be enabled to allow Overwatch to do its job.</p>
<p>These activities include things like <a href="https://docs.databricks.com/administration-guide/account-settings/audit-logs.html">enabling Audit Logs</a>, setting up security (as desired), etc. The setup activities
are slightly different depending on your cloud provider, currently Overwatch can operate on
<a href="https://databrickslabs.github.io/overwatch/environmentsetup/aws/"><strong>aws</strong></a> and <a href="https://databrickslabs.github.io/overwatch/environmentsetup/azure/"><strong>azure</strong></a>. Please
reference the page that&rsquo;s right for you.</p>
<h3 id="cluster-requirements">Cluster Requirements</h3>
<ul>
<li>DBR 7.6</li>
<li>Add the relevant <a href="#dependencies">dependencies</a></li>
<li>Azure - Spot Instances not yet tested</li>
</ul>
<h4 id="notes-on-autoscaling">Notes on Autoscaling</h4>
<ul>
<li>Auto-scaling compute &ndash; <strong>Not Recommended</strong> 
Note that autoscaling compute will not be extremely efficient due to some of the compute tails 
as a result of log file size skew and storage mediums. Additionally, some modules require thousands of API calls 
(for historical loads) and have to be throttled to protect the workspace. As such, it&rsquo;s recommended to not use 
autoscaling at this time, but rather use a smaller cluster and just let Overwatch run. Until <a href="https://github.com/databrickslabs/overwatch/issues/16">Issue 16</a>
can be implemented there will be a few inefficiencies.</li>
<li>Auto-scaling Storage &ndash; <strong>Strongly Recommended</strong>
<ul>
<li>Some of the data sources can grow to be quite large and require very large shuffle stages which requires
sufficient local disk. If you choose not to use auto-scaling storage be sure you provisions sufficient local
disk space.</li>
<li>SSD or NVME (preferred) &ndash; It&rsquo;s strongly recommended to use fast local disks as there can be very large shuffles</li>
</ul>
</li>
</ul>
<h3 id="run-via-notebook">Run via Notebook</h3>
<p>Example Notebook (<a href="https://databrickslabs.github.io/overwatch/assets/GettingStarted/Runner_Job.html">HTML</a> / <a href="https://databrickslabs.github.io/overwatch/assets/GettingStarted/Runner_Job.dbc">DBC</a>) &ndash;
Create a notebook like the one referenced and substitute your
<a href="https://databrickslabs.github.io/overwatch/gettingstarted/configuration/"><strong>configuration</strong></a> overrides.</p>
<ul>
<li><a href="#environment-setup">Setup The Environment</a> for your cloud provider</li>
<li>Create/Define cluster commensurate with the <a href="#cluster-requirements">Cluster Requirements</a></li>
<li>Notebook Basic Flow
<ul>
<li>Imports</li>
<li>Define Global Variables / Parameters (as needed)</li>
<li>Build the Config, the config is implemented through [&ldquo;OverwatchParams&rdquo;](TODO-LINKTO github class) case class</li>
<li>Initialize the Environment</li>
<li>Run Bronze &ndash;&gt; Silver &ndash;&gt; Gold Pipelines</li>
</ul>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> db <span style="color:#66d9ef">=</span> dbutils<span style="color:#f92672">.</span>widgets<span style="color:#f92672">.</span>get<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;dbName&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">val</span> etlDBName <span style="color:#66d9ef">=</span> dbutils<span style="color:#f92672">.</span>widgets<span style="color:#f92672">.</span>get<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ETLDBName&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">val</span> automatedDBUPrice <span style="color:#66d9ef">=</span> dbutils<span style="color:#f92672">.</span>widgets<span style="color:#f92672">.</span>get<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;automatedDBU&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">val</span> interactiveDBUPrice <span style="color:#66d9ef">=</span> dbutils<span style="color:#f92672">.</span>widgets<span style="color:#f92672">.</span>get<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;interactiveDBU&#34;</span><span style="color:#f92672">)</span>

<span style="color:#66d9ef">import</span> com.databricks.labs.overwatch.pipeline.<span style="color:#f92672">{</span><span style="color:#a6e22e">Initializer</span><span style="color:#f92672">,</span> <span style="color:#a6e22e">Bronze</span><span style="color:#f92672">,</span> <span style="color:#a6e22e">Silver</span><span style="color:#f92672">,</span> <span style="color:#a6e22e">Gold</span><span style="color:#f92672">}</span>
<span style="color:#66d9ef">import</span> com.databricks.labs.overwatch.utils._

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> dataTarget <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">DataTarget</span><span style="color:#f92672">(</span>
  <span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span>etlDBName<span style="color:#f92672">),</span> <span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;dbfs:/user/hive/warehouse/</span><span style="color:#e6db74">$etlDBName</span><span style="color:#e6db74">.db&#34;</span><span style="color:#f92672">),</span>
  <span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span>db<span style="color:#f92672">),</span> <span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;dbfs:/user/hive/warehouse/</span><span style="color:#e6db74">$db</span><span style="color:#e6db74">.db&#34;</span><span style="color:#f92672">)</span>
<span style="color:#f92672">)</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> tokenSecret <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">TokenSecret</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;databricks&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;overwatch_key&#34;</span><span style="color:#f92672">)</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> databricksContractPrices <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">DatabricksContractPrices</span><span style="color:#f92672">(</span>interactiveDBUPrice<span style="color:#f92672">,</span> automatedDBUPrice<span style="color:#f92672">)</span>

<span style="color:#66d9ef">val</span> params <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">OverwatchParams</span><span style="color:#f92672">(</span>
  auditLogConfig <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">AuditLogConfig</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;s3a://auditLogBucketMount/audit-logs&#34;</span><span style="color:#f92672">)),</span>
  tokenSecret <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span>tokenSecret<span style="color:#f92672">),</span>
  dataTarget <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span>dataTarget<span style="color:#f92672">),</span> 
  badRecordsPath <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span><span style="color:#e6db74">s&#34;/tmp/tomes/overwatch/sparkEventsBadrecords&#34;</span><span style="color:#f92672">),</span>
  overwatchScope <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Some</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;audit,accounts,sparkEvents,jobs,clusters,clusterEvents,notebooks&#34;</span><span style="color:#f92672">.</span>split<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;,&#34;</span><span style="color:#f92672">)),</span>
  maxDaysToLoad <span style="color:#66d9ef">=</span> <span style="color:#ae81ff">30</span><span style="color:#f92672">,</span>
  databricksContractPrices <span style="color:#66d9ef">=</span> databricksContractPrices
<span style="color:#f92672">)</span>

<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> args <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">JsonUtils</span><span style="color:#f92672">.</span>objToJson<span style="color:#f92672">(</span>params<span style="color:#f92672">).</span>compactString
<span style="color:#66d9ef">val</span> workspace <span style="color:#66d9ef">=</span> <span style="color:#a6e22e">Initializer</span><span style="color:#f92672">(</span><span style="color:#a6e22e">Array</span><span style="color:#f92672">(</span>args<span style="color:#f92672">),</span> debugFlag <span style="color:#66d9ef">=</span> <span style="color:#66d9ef">false</span><span style="color:#f92672">)</span>

<span style="color:#a6e22e">Bronze</span><span style="color:#f92672">(</span>workspace<span style="color:#f92672">).</span>run<span style="color:#f92672">()</span>
<span style="color:#a6e22e">Silver</span><span style="color:#f92672">(</span>workspace<span style="color:#f92672">).</span>run<span style="color:#f92672">()</span>
<span style="color:#a6e22e">Gold</span><span style="color:#f92672">(</span>workspace<span style="color:#f92672">).</span>run<span style="color:#f92672">()</span>
</code></pre></div><h3 id="run-via-main-class">Run via Main Class</h3>
<p>The Main class version does the same thing as the notebook version the difference is just how it&rsquo;s kicked off and
configured. The tricky party about the main class is that the parameters must be passed in as a string argument in
string-escaped json. The &ldquo;OverwatchParams&rdquo; object gets jsonified and passed into the args of the Main Class. To
simplify the creation of this string you can simply run the the exact same code as the
<a href="#run-via-notebook">Notebook</a> runner <strong>EXCEPT</strong> don&rsquo;t run the Pipeline Runners (i.e. Bronze(workspace).run()).
Instead after the OverwatchParams class is instantiated, use the JsonUtils to output an escaped string.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-scala" data-lang="scala"><span style="color:#66d9ef">val</span> params <span style="color:#66d9ef">=</span> <span style="color:#f92672">...</span>
<span style="color:#a6e22e">JsonUtils</span><span style="color:#f92672">.</span>objToJson<span style="color:#f92672">(</span>params<span style="color:#f92672">).</span>escapedString
</code></pre></div><p>This will output the string needed to be placed in the Main Class args. <!-- raw HTML omitted -->
Now that you have the string, setup the job. The Main Class for histoical batch is
<code>com.databricks.labs.overwatch.BatchRunner</code><!-- raw HTML omitted --></p>
<p><img src="https://databrickslabs.github.io/overwatch/images/GettingStarted/job_params.png" alt="job_params"> <!-- raw HTML omitted -->
<img src="https://databrickslabs.github.io/overwatch/images/GettingStarted/jarSetupExample.png" alt="jarSetupExample"></p>
<h4 id="the-new-jobs-ui">The new Jobs UI</h4>
<p>There&rsquo;s a new jobs UI being rolled out around the same time as Overwatch. Furthermore, note that Overwatch will be 
accessible via Maven Central and it can be referenced that way as well.</p>
<p><img src="https://databrickslabs.github.io/overwatch/images/GettingStarted/jarSetupNewUI.png" alt="newUIJarSetup"> <!-- raw HTML omitted -->
<img src="https://databrickslabs.github.io/overwatch/images/GettingStarted/OverwatchViaMaven.png" alt="newUIJarSetup"></p>
<h3 id="modules">Modules</h3>
<p>Choosing which modules are right for your organization can seem a bit overwhelming, but for now it should be
quite simple as several modules aren&rsquo;t yet released in this version. &ldquo;Modules&rdquo; are also sometimes
referred to as &ldquo;Scope&rdquo;, know that the meaning is synonymous. To understand which modules are available in your
version and get more details on what&rsquo;s included, please refer to <a href="https://databrickslabs.github.io/overwatch/gettingstarted/modules/">Modules</a></p>
<h3 id="security-considerations">Security Considerations</h3>
<p>Overwatch, by default, will create a single database that, is accessible to everyone in your organization unless you
specify a location for the database in the configuration that is secured at the storage level. Several of the modules
capture fairly sensitive data such as users, userIDs, etc. It is suggested that the configuration specify two
databases in the configuration:</p>
<ul>
<li><strong>ETL database</strong> &ndash; hold all of the raw and intermediate transform entities. This database can be secured
allowing only the necessary data engineers direct access.</li>
<li><strong>Consumer database</strong> &ndash; Holds views only and is easy to secure using Databricks' table ACLs (assuming no direct
scala access). The consumer database holds only views that point to tables so additional security can easily be
attributed at this layer.</li>
</ul>
<p>For more information on how to configure the separation of ETL and consumption databases, please reference the
<a href="https://databrickslabs.github.io/overwatch/gettingstarted/configuration/"><strong>configuration</strong></a> page.</p>
<p>Additional steps can be taken to secure the storage location of the ETL entities as necessary. The method for
securing access to these tables would be the same as with any set of tables in your organization.</p>





<footer class=" footline" >
	
</footer>

        
        </div> 
        

      </div>

    <div id="navigation">
        
        
        
        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
        
        


	 
	 
		
			<a class="nav nav-prev" href="https://databrickslabs.github.io/overwatch/" title="Welcome To OverWatch"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="https://databrickslabs.github.io/overwatch/gettingstarted/configuration/" title="Configuration" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>
    
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="https://databrickslabs.github.io/overwatch/js/clipboard.min.js?1618856973"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/perfect-scrollbar.min.js?1618856973"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/perfect-scrollbar.jquery.min.js?1618856973"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/jquery.sticky.js?1618856973"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/featherlight.min.js?1618856973"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/highlight.pack.js?1618856973"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="https://databrickslabs.github.io/overwatch/js/modernizr.custom-3.6.0.js?1618856973"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/learn.js?1618856973"></script>
    <script src="https://databrickslabs.github.io/overwatch/js/hugo-learn.js?1618856973"></script>

    <link href="https://databrickslabs.github.io/overwatch/mermaid/mermaid.css?1618856973" rel="stylesheet" />
    <script src="https://databrickslabs.github.io/overwatch/mermaid/mermaid.js?1618856973"></script>
    <script>
        mermaid.initialize({ startOnLoad: true });
    </script>
    

  </body>
</html>
